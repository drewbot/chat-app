function renderMessages(a){a.forEach(function(a){if(a.user&&a.message&&a.time){var b=showMessages(a);$(".message-area").append(b)}})}function Post(a,b){$.post("http://tiny-pizza-server.herokuapp.com/collections/chat-messages",{user:b,message:a,time:Date.now(),meta:"",appID:"drewbot"})}$(".logo-reload").click(function(){document.location.reload(!0)}),$(".login").click(function(){$(".login-form").show(200,function(){}),$(".login").hide("fast")});var username;$(".login-form").submit(function(a){username=$(".login-type").val(),$(".username").text("Hello, "+username),$(".username").show(1e3,function(){}),""==$(".login-type").val()?(a.preventDefault(),alert("You must enter a username to continue")):" "==$(".login-type").val()?(a.preventDefault(),alert("You must enter a username to continue")):($(".login-form").hide("fast"),$(".placeholder").hide("fast"),$(".message-gateway").show(1e3,function(){})),a.preventDefault()}),$(".login-type").focusin(function(){$(this).attr("value","")}),$(".login-type").focusout(function(){""==$(this).attr("value")&&$(this).attr("value"," type your username")}),$(".message-type").focusin(function(){$(this).attr("value","")}),$(".message-type").focusout(function(){""==$(this).attr("value")&&$(this).attr("value"," type a new message and press enter")});var showMessages=_.template($(".messages").text());setInterval(function(){$.getJSON("http://tiny-pizza-server.herokuapp.com/collections/chat-messages").done(function(a){a=a.splice(0,50),$(".message-area").html(""),renderMessages(a)})},1e3),$(".message-form").submit(function(a){if(""==$(".message-type").val())a.preventDefault(),alert("You must enter a message");else if(" "==$(".message-type").val())a.preventDefault(),alert("You must enter a message");else{var b=$(".message-type").val();freshPost=new Post(b,username)}a.preventDefault(),$(".message-form")[0].reset()});